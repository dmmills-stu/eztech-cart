'use client'; // Needed for IconContext.

import React from 'react';
import Link from 'next/link';
import { FaHome, FaShoppingCart } from 'react-icons/fa';
import { MdMovie } from "react-icons/md";
import { useCart } from "@/contexts/CartContext";
import '@/styles/NavBar.css';

const NavBar = () => {
  const { cart } = useCart();
  const totalItems = cart.reduce((sum, item) => sum + item.amount, 0);

  return (
    <>
      <nav className="nav-bar">
        <div className="nav-left">
          <Link href="/">
            <svg xmlns="http://www.w3.org/2000/svg" 
              viewBox="0 1.6800000667572021 374.510009765625 45.5099983215332"
              data-asc="0.82373046875"
              width="374.510009765625"
              height="45.5099983215332"
              className="eztech-movies-logo">
                <defs/>
                <g fill="#000000">
                  <g transform="translate(0, 0)">
                    <path d="M25.24 41.19L0 41.19L0 6.03L25.24 6.03L25.24 10.52L9.69 10.52L9.69 21.39L21.70 21.39L21.70 25.85L9.69 25.85L9.69 36.69L25.24 36.69L25.24 41.19ZM58.96 41.19L29.49 41.19L29.49 36.69L29.47 36.69L47.85 10.52L29.49 10.52L29.49 6.03L58.96 6.03L58.96 10.52L40.58 36.69L58.96 36.69L58.96 41.19ZM81.40 41.19L71.70 41.19L71.70 10.52L62.13 10.52L62.13 6.03L90.97 6.03L90.97 10.52L81.40 10.52L81.40 41.19ZM99.29 27.81Q100.81 28.15 102.32 28.34Q103.83 28.54 105.37 28.54Q106.98 28.54 108.36 28.23Q109.74 27.93 110.75 27.21Q111.77 26.49 112.35 25.29Q112.94 24.10 112.94 22.31Q112.94 20.87 112.55 19.68Q112.16 18.48 111.39 17.63Q110.62 16.77 109.50 16.30Q108.37 15.82 106.88 15.82Q105.49 15.82 104.38 16.33Q103.27 16.85 102.43 17.71Q101.59 18.58 100.99 19.73Q100.39 20.87 100 22.12Q99.61 23.36 99.44 24.63Q99.27 25.90 99.27 27.03Q99.27 27.22 99.27 27.42Q99.27 27.61 99.29 27.81M119.63 22.24Q119.63 23.97 119.07 25.33Q118.51 26.68 117.54 27.71Q116.58 28.74 115.31 29.44Q114.04 30.15 112.60 30.60Q111.16 31.05 109.63 31.25Q108.11 31.45 106.67 31.45Q104.83 31.45 103.05 31.19Q101.27 30.93 99.54 30.37Q99.80 31.98 100.39 33.44Q100.98 34.89 101.95 35.97Q102.93 37.06 104.36 37.70Q105.79 38.33 107.74 38.33Q109.03 38.33 110.21 37.94Q111.38 37.55 112.35 36.84Q113.33 36.13 114.07 35.16Q114.82 34.18 115.28 32.98L118.85 34.30Q118.04 36.23 116.64 37.63Q115.23 39.04 113.46 39.95Q111.69 40.87 109.70 41.31Q107.71 41.75 105.76 41.75Q102.54 41.75 99.80 40.66Q97.07 39.58 95.09 37.62Q93.12 35.67 91.99 32.96Q90.87 30.25 90.87 27.03Q90.87 23.80 91.99 21.09Q93.12 18.38 95.09 16.43Q97.07 14.48 99.80 13.39Q102.54 12.30 105.76 12.30Q107.32 12.30 108.96 12.52Q110.60 12.74 112.13 13.22Q113.67 13.70 115.04 14.45Q116.41 15.21 117.42 16.32Q118.43 17.43 119.03 18.90Q119.63 20.36 119.63 22.24ZM150.81 19.97L147.24 21.39Q146.39 18.70 144.38 17.26Q142.38 15.82 139.58 15.82Q138.06 15.82 136.88 16.30Q135.69 16.77 134.80 17.60Q133.91 18.43 133.29 19.53Q132.67 20.63 132.28 21.88Q131.88 23.12 131.71 24.45Q131.54 25.78 131.54 27.03Q131.54 28.37 131.69 29.74Q131.84 31.10 132.19 32.36Q132.54 33.62 133.13 34.70Q133.72 35.79 134.61 36.60Q135.50 37.40 136.73 37.87Q137.96 38.33 139.58 38.33Q140.87 38.33 142.04 37.94Q143.21 37.55 144.19 36.84Q145.17 36.13 145.92 35.16Q146.68 34.18 147.12 32.98L150.71 34.30Q149.90 36.23 148.57 37.63Q147.24 39.04 145.56 39.95Q143.87 40.87 141.94 41.31Q140.01 41.75 138.04 41.75Q134.84 41.75 132.10 40.66Q129.37 39.58 127.38 37.61Q125.39 35.64 124.27 32.95Q123.14 30.25 123.14 27.03Q123.14 23.78 124.26 21.07Q125.37 18.36 127.34 16.41Q129.32 14.45 132.06 13.38Q134.79 12.30 138.04 12.30Q140.09 12.30 142.04 12.76Q143.99 13.21 145.67 14.15Q147.34 15.09 148.67 16.53Q150 17.97 150.81 19.97ZM184.52 25.02Q184.52 27.88 183.83 30.98Q183.13 34.08 181.88 37.06Q180.64 40.04 178.91 42.66Q177.17 45.29 175.10 47.19L172.00 45.51Q172.66 44.29 173.24 42.77Q173.83 41.26 174.30 39.56Q174.78 37.87 175.16 36.06Q175.54 34.25 175.79 32.48Q176.05 30.71 176.18 29.04Q176.32 27.37 176.32 25.93Q176.32 24.98 176.25 23.89Q176.17 22.80 175.94 21.72Q175.71 20.63 175.32 19.63Q174.93 18.63 174.28 17.87Q173.63 17.11 172.72 16.65Q171.80 16.19 170.56 16.19Q169.34 16.19 168.38 16.74Q167.43 17.29 166.70 18.18Q165.97 19.07 165.44 20.21Q164.92 21.36 164.59 22.57Q164.26 23.78 164.11 24.95Q163.96 26.12 163.96 27.05L163.96 41.19L155.69 41.19L155.69 2.61L163.94 2.61L163.94 17.14Q165.53 14.82 167.83 13.56Q170.14 12.30 172.95 12.30Q175.88 12.30 178.05 13.26Q180.22 14.21 181.67 15.91Q183.11 17.60 183.81 19.93Q184.52 22.27 184.52 25.02ZM197.51 14.97L194.78 41.19L188.79 41.19L194.78 6.03L203.64 6.03L211.87 32.86L220.19 6.03L229.05 6.03L234.03 41.19L224.17 41.19L221.26 15.65L214.40 41.19L205.54 41.19L197.51 14.97ZM269.02 27.03Q269.02 29.22 268.43 31.15Q267.85 33.08 266.81 34.72Q265.77 36.35 264.31 37.66Q262.84 38.96 261.10 39.87Q259.35 40.77 257.36 41.26Q255.37 41.75 253.27 41.75Q251.17 41.75 249.19 41.26Q247.22 40.77 245.47 39.87Q243.73 38.96 242.26 37.66Q240.80 36.35 239.76 34.72Q238.72 33.08 238.13 31.14Q237.55 29.20 237.55 27.03Q237.55 24.85 238.13 22.91Q238.72 20.97 239.76 19.34Q240.80 17.70 242.26 16.39Q243.73 15.09 245.47 14.18Q247.22 13.28 249.19 12.79Q251.17 12.30 253.27 12.30Q255.37 12.30 257.36 12.79Q259.35 13.28 261.10 14.18Q262.84 15.09 264.31 16.39Q265.77 17.70 266.81 19.34Q267.85 20.97 268.43 22.91Q269.02 24.85 269.02 27.03M260.62 27.03Q260.62 25.85 260.49 24.55Q260.35 23.24 260.03 21.98Q259.72 20.73 259.17 19.57Q258.62 18.41 257.81 17.54Q257.01 16.67 255.88 16.15Q254.76 15.63 253.27 15.63Q251.86 15.63 250.76 16.16Q249.66 16.70 248.84 17.59Q248.02 18.48 247.47 19.65Q246.92 20.83 246.58 22.08Q246.24 23.34 246.09 24.62Q245.95 25.90 245.95 27.03Q245.95 28.15 246.09 29.43Q246.24 30.71 246.58 31.98Q246.92 33.25 247.47 34.41Q248.02 35.57 248.84 36.46Q249.66 37.35 250.76 37.89Q251.86 38.43 253.27 38.43Q254.74 38.43 255.86 37.90Q256.98 37.38 257.80 36.50Q258.62 35.62 259.16 34.47Q259.69 33.33 260.02 32.06Q260.35 30.79 260.49 29.49Q260.62 28.20 260.62 27.03ZM288.16 41.19L280.74 41.19L270.48 12.99L278.74 12.99L286.25 35.45L293.55 12.99L299.27 12.99L288.16 41.19ZM311.43 6.18Q311.43 7.10 311.07 7.93Q310.72 8.76 310.11 9.38Q309.50 9.99 308.67 10.34Q307.84 10.69 306.91 10.69Q305.98 10.69 305.16 10.34Q304.35 9.99 303.74 9.38Q303.13 8.76 302.77 7.93Q302.42 7.10 302.42 6.18Q302.42 5.25 302.77 4.43Q303.13 3.61 303.74 3.00Q304.35 2.39 305.16 2.04Q305.98 1.68 306.91 1.68Q307.84 1.68 308.67 2.04Q309.50 2.39 310.11 3.00Q310.72 3.61 311.07 4.43Q311.43 5.25 311.43 6.18M311.06 41.19L302.78 41.19L302.78 13.01L311.06 13.01L311.06 41.19ZM324.76 27.81Q326.27 28.15 327.78 28.34Q329.30 28.54 330.83 28.54Q332.45 28.54 333.83 28.23Q335.21 27.93 336.22 27.21Q337.23 26.49 337.82 25.29Q338.40 24.10 338.40 22.31Q338.40 20.87 338.01 19.68Q337.62 18.48 336.85 17.63Q336.08 16.77 334.96 16.30Q333.84 15.82 332.35 15.82Q330.96 15.82 329.85 16.33Q328.74 16.85 327.89 17.71Q327.05 18.58 326.45 19.73Q325.85 20.87 325.46 22.12Q325.07 23.36 324.90 24.63Q324.73 25.90 324.73 27.03Q324.73 27.22 324.73 27.42Q324.73 27.61 324.76 27.81M345.09 22.24Q345.09 23.97 344.53 25.33Q343.97 26.68 343.01 27.71Q342.04 28.74 340.77 29.44Q339.50 30.15 338.06 30.60Q336.62 31.05 335.10 31.25Q333.57 31.45 332.13 31.45Q330.30 31.45 328.52 31.19Q326.73 30.93 325 30.37Q325.27 31.98 325.85 33.44Q326.44 34.89 327.42 35.97Q328.39 37.06 329.82 37.70Q331.25 38.33 333.20 38.33Q334.50 38.33 335.67 37.94Q336.84 37.55 337.82 36.84Q338.79 36.13 339.54 35.16Q340.28 34.18 340.75 32.98L344.31 34.30Q343.51 36.23 342.10 37.63Q340.70 39.04 338.93 39.95Q337.16 40.87 335.17 41.31Q333.18 41.75 331.23 41.75Q328.00 41.75 325.27 40.66Q322.53 39.58 320.56 37.62Q318.58 35.67 317.46 32.96Q316.33 30.25 316.33 27.03Q316.33 23.80 317.46 21.09Q318.58 18.38 320.56 16.43Q322.53 14.48 325.27 13.39Q328.00 12.30 331.23 12.30Q332.79 12.30 334.42 12.52Q336.06 12.74 337.60 13.22Q339.14 13.70 340.50 14.45Q341.87 15.21 342.88 16.32Q343.90 17.43 344.49 18.90Q345.09 20.36 345.09 22.24ZM374.51 32.18Q374.51 34.03 373.97 35.47Q373.44 36.91 372.51 37.98Q371.58 39.04 370.31 39.76Q369.04 40.48 367.59 40.92Q366.14 41.36 364.55 41.55Q362.96 41.75 361.40 41.75Q359.30 41.75 357.69 41.48Q356.08 41.21 354.61 40.61Q353.15 40.01 351.70 39.06Q350.24 38.11 348.46 36.74L353.27 32.81Q353.93 34.06 355.02 35.07Q356.10 36.08 357.28 36.82Q358.45 37.55 359.55 37.94Q360.64 38.33 361.33 38.33Q361.89 38.33 362.60 38.29Q363.31 38.26 364.04 38.15Q364.77 38.04 365.48 37.82Q366.19 37.60 366.74 37.22Q367.29 36.84 367.61 36.27Q367.94 35.69 367.94 34.89Q367.94 34.06 367.52 33.44Q367.09 32.81 366.41 32.35Q365.72 31.88 364.84 31.57Q363.96 31.25 363.07 31.01Q362.18 30.76 361.35 30.58Q360.52 30.40 359.91 30.22Q358.79 29.91 357.54 29.58Q356.30 29.25 355.08 28.82Q353.86 28.39 352.75 27.81Q351.64 27.22 350.79 26.40Q349.95 25.59 349.45 24.48Q348.95 23.36 348.95 21.88Q348.95 19.14 350.04 17.30Q351.12 15.45 352.91 14.34Q354.69 13.23 356.96 12.77Q359.23 12.30 361.57 12.30Q363.18 12.30 364.97 12.63Q366.75 12.96 368.43 13.61Q370.12 14.26 371.58 15.19Q373.05 16.11 374.02 17.31L369.21 21.26Q368.68 19.80 367.81 18.75Q366.94 17.70 365.93 17.03Q364.92 16.36 363.85 16.04Q362.79 15.72 361.89 15.72Q361.01 15.72 359.91 15.80Q358.81 15.87 357.85 16.21Q356.88 16.55 356.21 17.25Q355.54 17.94 355.54 19.17Q355.54 20.04 355.94 20.67Q356.35 21.29 357.01 21.74Q357.67 22.19 358.51 22.50Q359.35 22.80 360.23 23.03Q361.11 23.27 361.94 23.44Q362.77 23.61 363.43 23.80Q364.55 24.12 365.81 24.45Q367.07 24.78 368.29 25.21Q369.51 25.63 370.64 26.21Q371.78 26.78 372.63 27.61Q373.49 28.44 374.00 29.55Q374.51 30.66 374.51 32.18Z"/>
                  </g>
                </g>
              </svg>
          </Link>
        </div>
        <ul className="nav-list">
          <div className="logo-spacer" />
          <li>
            <Link href="/">
              <FaHome className="nav-bar-icon" />
              <span>Home</span>
            </Link>
          </li>
          <div className="inside-spacer" />
          <li>
            <Link href="/subs">
              <MdMovie className="nav-bar-icon" />
              <span>Subscriptions</span>
            </Link>
          </li>
          <div className="inside-spacer" />
          <li>
            <Link href="/cart">
              <FaShoppingCart className="nav-bar-icon" />
              <span>Cart ({totalItems})</span>
            </Link>
          </li>
          <div className="outside-spacer" />
        </ul>
      </nav>
    </>
  );
};

export default NavBar;